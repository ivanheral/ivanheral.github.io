<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1 initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tutorial. Corazón animado con SVG</title>
    <meta name="description" content="Tutorial. Corazón animado con SVG">
    <link rel="stylesheet" href=" /css/app.css ">
    <link rel="canonical" href="ivanheral.github.io/tutorial/2016/03/21/tutorial-animaciones-svg.html">
    <link rel="apple-touch-icon" sizes="57x57" href="/files/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/files/images/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/files/images/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/files/images/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/files/images/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/files/images/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/files/images/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/files/images/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/files/images/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/files/images/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/files/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/files/images/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/files/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="/files/images/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <script type="text/javascript">
        var disqus_shortname = 'ivanheral';
        var disqus_identifier = "/tutorial/2016/03/21/tutorial-animaciones-svg.html";
    </script>
    <!-- Enables twitter cards on posts -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@ivanheral" />
<meta name="twitter:title" content="Tutorial. Corazón animado con SVG" />
<meta name="twitter:description" content="Tutorial. Corazón animado con SVG" />
<meta name="twitter:url" content="ivanheral.github.io/tutorial/2016/03/21/tutorial-animaciones-svg.html" />
<meta name="twitter:image" content="ivanheral.github.io//media1.giphy.com/media/OJVQOfitCNNkI/giphy_s.gif" />
</head>
<body>
    <div class="wrapper">
        <div class="container"><div class="tags">
    <div class="title">
        <a class="site-title" href="/">BLOG</a>
        <div id="search">
            <input id="search_input" type="text" placeholder="..." maxlength="5">
        </div>
    </div>
    <div class="categories" id="links">
        <div class="link" id="cine">Cine
            <span>3</span>
        </div>
        <div class="link" id="random">Random
            <span>2</span>
        </div>
        <div class="link" id="opinion">Opinión
            <span>4</span>
        </div>
        <div class="link" id="tutorial">Tutorial
            <span>9</span>
        </div>
        <a class="link return" id="blog">Volver al post</a>
    </div>
</div>
<div class="post-list"></div>
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
<div class="article">
    <header class="elem important">
      <div class="wall_img">
      
      <img src="//media1.giphy.com/media/OJVQOfitCNNkI/giphy_s.gif"/>
      
      </div>
   <div class="info_post">
    <div class="post-title post" itemprop="name headline">Tutorial. Corazón animado con SVG</div>
    <div class="post-meta">
    <span itemprop="author" itemscope itemtype="http://schema.org/Person"></span><span itemprop="name">ivanheral,</span>
    <time datetime="2016-03-21T11:00:00+01:00" itemprop="datePublished"> 
21 
Marzo
  
        2016</time>

       </div>
</div>
  </header>
    <div class="share-page">
    <div class="social-media-list">
        <a href="https://twitter.com/intent/tweet?text=Tutorial. Corazón animado con SVG&url=http://ivanheral.github.io/tutorial/2016/03/21/tutorial-animaciones-svg.html">
            <svg viewBox="0 0 32 32" fill="#1da1f2" width="36">
                <path d="M 16,2 C 8.2680079,2 2,8.2680053 2,16 2,23.731995 8.2680079,30 16,30 23.731992,30 30,23.731995 30,16 30,8.2680053 23.731992,2 16,2 Z" fill="#fff"></path>
                <path d="M 16,1 C 7.7157227,1 1,7.71572 1,16 1,24.28428 7.7157227,31 16,31 24.284277,31 31,24.28428 31,16 31,7.71572 24.284277,1 16,1 Z m 7.45541,11.17617 c 0.0074,0.165 0.01113,0.33094 0.01113,0.4977 0,5.0833 -3.869238,10.94496 -10.944844,10.94496 -2.172363,0 -4.1943748,-0.63686 -5.8967576,-1.7284 0.3009375,0.0357 0.6071484,0.0539 0.9176367,0.0539 1.8022852,0 3.4609569,-0.615 4.7774999,-1.64678 -1.68334,-0.0309 -3.1039452,-1.14316 -3.593496,-2.67141 0.2349024,0.0449 0.4758985,0.0691 0.72375,0.0691 0.3508594,0 0.690762,-0.0472 1.013438,-0.13506 -1.759688,-0.35349 -3.0857231,-1.90816 -3.0857231,-3.77197 0,-0.0162 0,-0.0323 3.5e-4,-0.0484 0.5185547,0.28811 1.1117579,0.46119 1.7422852,0.48118 -1.0321875,-0.68983 -1.7113477,-1.86727 -1.7113477,-3.20192 0,-0.705 0.1897266,-1.36582 0.5208985,-1.93389 1.8972656,2.32735 4.7317391,3.85875 7.9287311,4.01924 -0.06557,-0.2816 -0.09961,-0.57515 -0.09961,-0.87668 0,-2.12437 1.722421,-3.84662 3.846797,-3.84662 1.106425,0 2.10621,0.46711 2.807871,1.21471 0.876211,-0.17244 1.699454,-0.4926 2.442774,-0.93346 -0.287227,0.8983 -0.897188,1.65217 -1.691367,2.12824 0.778125,-0.093 1.519511,-0.29976 2.209336,-0.60568 -0.515451,0.77133 -1.167599,1.44885 -1.919356,1.99119 z"></path>
            </svg>
        </a>
        <a href="https://facebook.com/sharer.php?u=ivanheral.github.io/tutorial/2016/03/21/tutorial-animaciones-svg.html" rel="nofollow" target="_blank" title="Compartir en Facebook">
            <svg viewBox="0 0 32 32" fill="#3b5998" width="36">
                <path d="M 16,2 C 8.2680079,2 2,8.2680053 2,16 2,23.731995 8.2680079,30 16,30 23.731992,30 30,23.731995 30,16 30,8.2680053 23.731992,2 16,2 Z" fill="#fff"></path>
                <path d="M 16 1 C 7.7157227 1 1 7.71572 1 16 C 1 24.28428 7.7157227 31 16 31 C 24.284277 31 31 24.28428 31 16 C 31 7.71572 24.284277 1 16 1 z M 18.220703 8.9140625 L 19.433594 8.9140625 L 19.433594 10.189453 L 19.433594 11.462891 L 18.636719 11.472656 C 17.779565 11.483924 17.67147 11.497903 17.478516 11.595703 C 17.353545 11.659021 17.271471 11.750554 17.212891 11.896484 C 17.168061 12.009479 17.168333 12.03027 17.158203 12.873047 C 17.150928 13.346665 17.150391 13.7418 17.150391 13.75 C 17.153718 13.75825 17.674335 13.765625 18.306641 13.765625 L 19.457031 13.765625 L 19.445312 13.849609 C 19.439383 13.89588 19.379257 14.469009 19.310547 15.125 L 19.183594 16.320312 L 18.158203 16.320312 L 17.134766 16.320312 L 17.134766 19.703125 C 17.134766 21.563327 17.148438 23.085938 17.148438 23.085938 L 14.068359 23.085938 L 14.068359 20.007812 L 14.068359 16.320312 L 13.306641 16.320312 L 12.542969 16.320312 L 12.542969 15.042969 L 12.542969 13.765625 L 13.304688 13.765625 L 14.064453 13.765625 L 14.074219 12.730469 C 14.084268 11.66864 14.094057 11.525352 14.179688 11.103516 C 14.263218 10.691927 14.451439 10.255344 14.673828 9.9589844 C 15.112819 9.3740849 15.82538 9.031279 16.789062 8.9375 C 16.915264 8.925205 17.512171 8.9140625 18.220703 8.9140625 z"></path>
            </svg>
        </a>
        <a href="https://plus.google.com/share?url=ivanheral.github.io/tutorial/2016/03/21/tutorial-animaciones-svg.html" rel="nofollow" target="_blank" title="Compartir en Google+">
            <svg viewBox="0 0 32 32" fill="#dd4b39" width="36">
                <path d="M 16,2 C 8.2680079,2 2,8.2680053 2,16 2,23.731995 8.2680079,30 16,30 23.731992,30 30,23.731995 30,16 30,8.2680053 23.731992,2 16,2 Z" fill="#fff"></path>
                <path d="M 16,1 C 7.7148437,1 1,7.71484 1,16 1,24.28516 7.7148437,31 16,31 24.285156,31 31,24.28516 31,16 31,7.71484 24.285156,1 16,1 Z m -3.75,22.5 c -4.1484375,0 -7.5,-3.35156 -7.5,-7.5 0,-4.14844 3.3515625,-7.5 7.5,-7.5 2.027344,0 3.720703,0.73828 5.027344,1.96289 l -2.039063,1.95703 c -0.55664,-0.5332 -1.529297,-1.1543 -2.988281,-1.1543 -2.5605469,0 -4.6523438,2.1211 -4.6523438,4.73438 0,2.61328 2.0917969,4.73437 4.6523438,4.73437 2.970703,0 4.083984,-2.13281 4.253906,-3.23437 l -4.253906,0 0,-2.57227 7.083984,0 c 0.06445,0.375 0.117188,0.75 0.117188,1.24219 0,4.28906 -2.871094,7.33008 -7.201172,7.33008 z m 13.125,-7.5 0,1.875 -1.875,0 0,-1.875 -1.875,0 0,-1.875 1.875,0 0,-1.875 1.875,0 0,1.875 1.875,0 0,1.875 -1.875,0 z"></path>
            </svg>
        </a>
        <a href="whatsapp://send?text=ivanheral.github.io/tutorial/2016/03/21/tutorial-animaciones-svg.html" data-action="share/whatsapp/share" title="Compartir en Whatsapp">
            <svg viewBox="0 0 32 32" fill="#25d366" width="36">
               <path d="M 16,2 C 8.2680079,2 2,8.2680053 2,16 2,23.731995 8.2680079,30 16,30 23.731992,30 30,23.731995 30,16 30,8.2680053 23.731992,2 16,2 Z" fill="#fff"></path>
                <path d="M 16 1 C 7.714844 1 1 7.71484 1 16 C 1 24.28516 7.714844 31 16 31 C 24.285156 31 31 24.28516 31 16 C 31 7.71484 24.285156 1 16 1 z M 15.826172 7.96875 C 17.719967 7.9190994 19.609469 8.5444916 21.119141 9.8046875 C 24.251463 12.419388 24.922373 16.966902 22.673828 20.349609 C 21.35021 22.340858 19.208051 23.635369 16.826172 23.884766 C 16.289167 23.940993 15.212259 23.90964 14.738281 23.824219 C 13.934021 23.679273 13.258955 23.465333 12.552734 23.130859 L 12.193359 22.960938 L 10.144531 23.498047 C 9.0180753 23.79335 8.0754821 24.035156 8.0488281 24.035156 C 8.0221746 24.035156 7.9998695 24.021696 8 24.005859 C 8.000096 23.990023 8.2492788 23.069482 8.5527344 21.960938 L 9.1035156 19.945312 L 8.9023438 19.542969 C 7.372748 16.484356 7.9255017 12.863186 10.300781 10.392578 C 10.924939 9.7433704 11.6449 9.2195778 12.494141 8.796875 C 13.552189 8.2702394 14.689895 7.9985404 15.826172 7.96875 z M 15.896484 9.3183594 C 14.280513 9.3509895 12.677611 9.9703301 11.441406 11.169922 C 10.819174 11.773725 10.410007 12.336431 10.054688 13.074219 C 9.0784067 15.10138 9.1903409 17.458003 10.357422 19.388672 C 10.453152 19.547035 10.532851 19.712452 10.533203 19.755859 C 10.533539 19.799266 10.394964 20.341707 10.224609 20.960938 C 10.054254 21.580168 9.9280422 22.100094 9.9453125 22.117188 C 9.9625823 22.134281 10.495452 22.012921 11.128906 21.845703 C 11.76236 21.678486 12.316185 21.541487 12.359375 21.541016 C 12.402565 21.540536 12.61012 21.635573 12.820312 21.751953 C 13.515098 22.136644 14.317945 22.40404 15.125 22.519531 C 15.672283 22.597849 16.72143 22.568401 17.265625 22.460938 C 19.313646 22.056509 21.027607 20.754669 21.958984 18.892578 C 23.292575 16.226351 22.666178 12.98848 20.427734 10.988281 C 19.142242 9.8396084 17.512456 9.2857292 15.896484 9.3183594 z M 13.398438 12.248047 C 13.690698 12.247778 13.85018 12.302382 13.933594 12.429688 C 14.051098 12.609023 14.679687 14.177516 14.679688 14.291016 C 14.679688 14.449536 14.568539 14.64278 14.279297 14.988281 C 14.140282 15.154336 14.027341 15.32567 14.027344 15.371094 C 14.027355 15.552239 14.682081 16.444515 15.091797 16.820312 C 15.582564 17.270452 16.269579 17.700422 16.837891 17.912109 C 17.007093 17.975135 17.027281 17.974924 17.117188 17.916016 C 17.170255 17.881244 17.343528 17.69297 17.503906 17.498047 C 18.023563 16.866461 17.961155 16.919637 18.154297 16.941406 C 18.342782 16.962651 19.918558 17.714868 20.011719 17.828125 C 20.051765 17.87681 20.060192 17.971843 20.044922 18.208984 C 20.022075 18.563771 19.922439 18.865285 19.765625 19.052734 C 19.596505 19.254893 19.250926 19.494809 18.941406 19.625 C 18.683166 19.733621 18.606544 19.747361 18.193359 19.759766 C 17.82738 19.770753 17.676379 19.759365 17.462891 19.701172 C 16.760643 19.509755 15.828554 19.105949 15.296875 18.761719 C 13.991747 17.91673 12.491111 16.13101 12.113281 14.974609 C 11.81718 14.068352 11.993186 13.222995 12.607422 12.589844 C 12.885638 12.30306 13.008745 12.248403 13.398438 12.248047 z"></path>
            </svg>
        </a>
        <a href="https://www.linkedin.com/shareArticle?mini=true&url=ivanheral.github.io/tutorial/2016/03/21/tutorial-animaciones-svg.html&title=Tutorial. Corazón animado con SVG&source=//media1.giphy.com/media/OJVQOfitCNNkI/giphy_s.gif" title="Compartir en LinkedIn">
            <svg viewBox="0 0 32 32" fill="#0077b5" width="36">
                <path d="M 16,2 C 8.2680079,2 2,8.2680053 2,16 2,23.731995 8.2680079,30 16,30 23.731992,30 30,23.731995 30,16 30,8.2680053 23.731992,2 16,2 Z" fill="#fff"></path>
                <path d="M 14.750337,30.980631 C 11.17024,30.656347 7.8226318,29.093744 5.3272841,26.582118 3.1212435,24.361686 1.7152719,21.645388 1.1520474,18.515682 1.0164827,17.762381 0.99864679,17.462107 0.99997912,15.955503 1.0016539,14.142483 1.051403,13.682363 1.3950298,12.307035 1.8987338,10.291011 2.9195695,8.237465 4.2442783,6.575391 6.2514462,4.057055 9.1924166,2.166258 12.316314,1.385751 c 1.375328,-0.343626 1.835447,-0.39344797 3.648467,-0.39504997 1.506605,-0.0013 1.806879,0.01651 2.56018,0.15206897 3.129706,0.563223 5.846004,1.969195 8.066436,4.175236 2.294872,2.279998 3.737464,5.132894 4.28353,8.471189 0.165625,1.012553 0.166777,3.312326 0.0022,4.363097 -1.03618,6.614843 -6.081773,11.68267 -12.647554,12.703277 -0.663339,0.10311 -2.852718,0.181807 -3.47922,0.125061 z M 12.1085,17.941284 l 0.01683,-5.10395 h -1.667343 c -1.4598428,0 -1.6723022,0.01293 -1.7071891,0.103836 -0.073098,0.190488 -0.045297,9.872703 0.028701,10.01105 0.065564,0.122505 0.1396105,0.127346 1.6903771,0.110564 l 1.62181,-0.01754 z m 5.333309,1.920136 c 0.03246,-3.148941 0.0345,-3.187143 0.18248,-3.487575 0.186714,-0.37897 0.529009,-0.736132 0.887956,-0.926511 0.217563,-0.115392 0.385427,-0.146254 0.800464,-0.147153 0.453135,-9.3e-4 0.566391,0.02308 0.825723,0.175557 0.347514,0.204302 0.59225,0.542414 0.756127,1.044636 0.101156,0.310008 0.120242,0.738848 0.153075,3.439511 l 0.03751,3.085346 h 1.641137 1.641143 v -3.544863 c 0,-3.505479 -0.0017,-3.550667 -0.151193,-4.067071 -0.43951,-1.518032 -1.401927,-2.465659 -2.802862,-2.75979 -1.357005,-0.284908 -2.577712,0.05401 -3.45786,0.960048 -0.240985,0.248071 -0.45405,0.451045 -0.473468,0.451045 -0.01944,0 -0.0438,-0.273246 -0.05421,-0.607222 l -0.0189,-0.607221 h -1.673914 -1.673964 l -0.01696,5.021893 c -0.0093,2.76204 -0.0027,5.059328 0.01475,5.10508 0.02476,0.06477 0.399095,0.0793 1.690934,0.06564 l 1.659179,-0.01754 z m -6.039402,-8.654896 c 0.402282,-0.209419 0.573796,-0.379057 0.773722,-0.765257 C 12.418167,9.973719 12.416447,9.330638 12.171929,8.856 11.839233,8.210295 11.286981,7.913907 10.416554,7.913907 c -1.1085148,0 -1.8525148,0.704625 -1.8530653,1.754996 -3.725e-4,0.742231 0.4383106,1.366358 1.1529114,1.640214 0.1214466,0.04654 0.4565609,0.07404 0.7998319,0.06564 0.472865,-0.01156 0.649783,-0.04518 0.886216,-0.168237 z"></path>
            </svg>
        </a>
    </div>
</div>
  <div class="post-content" itemprop="articleBody">
    <p>Hoy he decidido hablar un poco de como animar un elemento SVG. Para ello he creado uno con inkscape, tranquilos esta limpiado y optimizado para que ocupe poco. Os dejo un enlace del ejemplo que usaremos:</p>

<p><a class="btn" href="https://www.dropbox.com/s/gzqiqryxi4nnh3h/Heart.zip?dl=0" target="_blank">
Ejemplo SVG
</a></p>

<p>Si editáis el Heart.svg podréis ver que consta de tres elementos con sus respectivos identificadores: <strong>line_path</strong> (un path que dibuja el recorrido del pulso), <strong>heart_path</strong> (otro path que dibuja la forma del corazón) y <strong>pulse</strong> (un circulo que representa el pulso).</p>

<p>Ahora pasaremos a animarlos para que cobren algo de vida desde la hoja de estilos <strong>style.css</strong>:</p>

<p><strong>heart_path:</strong> Este elemento tendrá dos animaciones, dash (que se ejecutara una sola vez con forwards dibujando el contorno del corazon) y pulse_heart (que aumentara y disminuirá el tamaño simulando el bombeo de sangre). Tranform y perspective me ayudan a centrar el elemento y disminuiré un 15% el tamaño del path con scale:</p>
<pre>
<code class="language-css">
#heart_path {
    animation: dash 2s ease forwards, pulse_heart 2s ease-out infinite;
    -webkit-animation: dash 2s ease forwards, pulse_heart 2s ease-out infinite;
    transform-origin: 50% 50%;
    -ms-transform-origin: 50% 50%;
    -webkit-transform-origin: 50% 50%;
    perspective: 0px;
    -webkit-perspective: 0px;
    -webkit-transform: scale(0.85, 0.85);
    transform: scale(0.85, 0.85);
}
</code>
</pre>

<p><strong>pulse:</strong> En este caso lanzamos la animación heart cada 2 segundos de forma lineal, ningún misterio en ese sentido:</p>
<pre>
<code class="language-css">
#pulse {
    -webkit-animation: heart 2s infinite linear;
    animation: heart 2s infinite linear;
}
</code>
</pre>

<p><strong>line_path:</strong> Parecido al anterior, cada 2.5 segundos se ejecutara la animación dash exclusivamente una vez para dibujar la linea del pulso:</p>
<pre>
<code class="language-css">
#line_path {
    animation: dash 2.5s ease forwards;
    -webkit-animation: dash 2.5s ease forwards;
}
</code>
</pre>

<p>No he hablado mucho con respecto a los timings de las animaciones (ease, ease-out, linear, cubic…)  o  las iteraciones de una animación pero os dejo el siguiente enlace por si queréis trastear:</p>

<p><a class="btn" href="http://www.w3schools.com/css/css3_animations.asp" target="_blank">
animaciones CSS
</a></p>

<p>Bueno, pasemos ahora a las animaciones. <strong>Pulse_heart:</strong> esta animación esta asignada al elemento <strong>heart_path</strong> con un intervalo de 2 segundos, aumentara el corazón a escala 1:1 al 90% (1.8 segundos) y se volverá a reducir cuando alcance el 100% (2 segundos):</p>
<pre>
<code class="language-css">
@keyframes pulse_heart {
    0% {
        transform: scale(0.85, 0.85);
    }
    90% {
        transform: scale(1, 1);
    }
    100% {
        transform: scale(0.85, 0.85);
    }
}
</code>
</pre>

<p>La animación <strong>dash</strong> permite dibujar los paths line_path aplicándoles el estilo <strong>stroke-dasharray=’100’</strong> y modificando el valor <strong>stroke-dashoffset</strong> como se muestra a continuación:</p>
<pre>
<code class="language-css">
@keyframes dash {
    0% {
        stroke-dashoffset: 95;
    }
    100% {
        stroke-dashoffset: 0;
    }
}
</code>
</pre>

<p>Ahora nos queda el mas complicado, <strong>heart</strong>. Nuestro circulo <strong>pulse</strong> recorre 6 tramos así que dividiremos 100% por 6 y en cada tramo aplicaremos los translate que sean pertinentes indicando mediante coordenadas (x,y) hacia donde queremos que se posicione nuestro circulo. Para estas cosas suelo usar inkscape:</p>
<pre>
<code class="language-css">
@keyframes heart {
    0% {
        transform: translate(0px, 0px);
    }
    16.6666666667% {
        transform: translate(5.687px, 0);
    }
    33.3333333333% {
        transform: translate(8.844px, -7.937px);
    }
    50% {
        transform: translate(12.594px, 3.531px);
    }
    66.6666666667% {
        transform: translate(16.25px, -5.583px);
    }
    83.3333333333% {
        transform: translate(18.719px, 0px);
    }
    100% {
        transform: translate(28.187px, 0px);
    }
}
</code>
</pre>

<p>Finalmente tendríamos nuestras animaciones corriendo pero no cantemos victoria. Las incompatibilidades con los distintos navegadores hacen que no se muestren correctamente en todos los navegadores. Por ejemplo, lo que acabamos de realizar se ve correctamente en Firefox y Chrome pero en IE, Opera y Safari puede que no se vea como lo teníamos planteado. Tendremos que duplicar animaciones y transforms con prefijos (<strong>-ms-</strong>, <strong>-webkit-</strong>, <strong>-o-</strong>, <strong>-moz-</strong>…).</p>

<p>El problema mas gordo viene con IE, por eso he decidido usar <strong>Snap.svg</strong> - una libreria JS para animar SVGs -, os muestro como se traduciría nuestro CSS a Snap.svg evitándonos muchos quebraderos de cabeza.</p>

<p><strong>Inicialización de elementos:</strong> Aqui pasamos a encapsular los elementos en variables para poder manejarlos fácilmente. Usaremos <strong>attr</strong> para inicializar <strong>strokeDashoffset</strong> de cara al dibujado de esos elementos:</p>
<pre>
<code class="language-js">
       /* Seleccionamos el svg a tratar por su identificador svg */
        var svg = Snap("#svg").attr('background', 'red');
        
        /* Asignamos variable a pulse */
        var pulse = svg.select('#pulse');
        
        /* Asignamos variable a heart_path */
        var heart = svg.select('#heart_path').attr({
            strokeDashoffset: 98
        });
        
        /* Asignamos variable a line_path */
        var line = svg.select('#line_path').attr({
            strokeDashoffset: 100
        });
</code>
</pre>

<p><strong>Animación de dibujado:</strong> Solo se ejecuta una vez en 2 segundos. Usamos <strong>animate</strong> para animar el cambio del valor de <strong>strokeDashoffset</strong>.</p>
<pre>
<code class="language-js">
        heart.animate({
            strokeDashoffset: 0
        }, 2000);
        
        line.animate({
            strokeDashoffset: 0
        }, 2000);
        
</code>
</pre>

<p><strong>Animación de aumento del tamaño (heart):</strong> Se ejecuta de forma continuada cada 2 segundos. Usamos una lista <strong>HeartAnim</strong> con dos variables (animation y dur) y creamos una función <strong>animateHeart</strong> que ejecute de forma secuencial cada paso de la animación.</p>
<pre>
<code class="language-js">   
        /* La s de tranform es de scale */
        var heartAnim = [
            {
                animation: {
                    transform: 's1,1'
                },
                dur: 0
            },

            {
                animation: {
                    transform: 's0.85,0.85'
                },
                dur: 200
            }
            , {
                animation: {
                    transform: 's1,1'
                },
                dur: 1800
            }];

        (function animateHeart(el, i) {

            el.animate(heartAnim[i].animation, heartAnim[i].dur, function () {
                animateHeart(el, ++i in heartAnim ? i : 0);
            })

        })(heart, 0);
        
</code>
</pre>

<p><strong>Animación movimiento del pulso:</strong> Parecido al anterior Se ejecuta de forma continuada cada 2 segundos. Usamos una lista <strong>pulseAnim</strong> con dos variables (animation y dur) y creamos una función <strong>animateCircle</strong> que ejecute de forma secuencial cada paso de la animación.</p>
<pre>
<code class="language-js"> 
        /* La t de tranform es de translate */
        var pulseAnim = [
            {
                animation: {
                    transform: 't0,0'
                },
                dur: 0
        },
            {
                animation: {
                    transform: 't5.687,0'
                },
                dur: 326.1
        },

            {
                animation: {
                    transform: 't8.844,-7.937'
                },
                dur: 326.1
        },
            {
                animation: {
                    transform: 't12.594, 3.531'
                },
                dur: 326.1
        },
            {
                animation: {
                    transform: 't16.25,-5.583'
                },
                dur: 326.1
        },
            {
                animation: {
                    transform: 't18.719,0'
                },
                dur: 326.1
        },
            {
                animation: {
                    transform: 't28.187,0'
                },
                dur: 326.1
        }];

        (function animateCircle(el, i) {
            el.animate(pulseAnim[i].animation, pulseAnim[i].dur, function () {
                animateCircle(el, ++i in pulseAnim ? i : 0);
            })
        })(pulse, 0);
</code>
</pre>

<p>Esto de las animaciones SVG es un coñazo, usar prefijos a saco y aprender a usar Snap.svg para no volveros locos (sobretodo si tenéis pendado usar rotate). Últimamente estoy viendo muchas chapuzas con esto, incluso lo que os he mostrado estara plagado de algún gazapo. Por ultimo, os dejo el enlace de Snap.svg:</p>

<p><a class="btn" href="http://snapsvg.io/" target="_blank">
Snap.svg
</a></p>

  </div>
  
  <div class="disqus"><div id="disqus_thread"></div></div>
  
    </div>

</article></div>
    </div>
    <script type="text/javascript" src="/js/app.js"></script>
    <script type="text/javascript" src="/js/ga-lite.js "></script> 
</body>
<div class="fade-modal">
    <div id="modal">       
    </div>
 </div>
 <div class="fade"></div>
</html>